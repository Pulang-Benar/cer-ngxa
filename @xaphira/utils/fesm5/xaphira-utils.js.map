{"version":3,"file":"xaphira-utils.js","sources":["ng://@xaphira/utils/lib/services/encryption.service.ts","ng://@xaphira/utils/lib/services/translation.service.ts","ng://@xaphira/utils/lib/utils.module.ts","ng://@xaphira/utils/lib/models/pattern/date-pattern.model.ts","ng://@xaphira/utils/lib/models/pattern/pattern.model.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport * as CryptoJS from 'crypto-js';\n\n@Injectable()\nexport class EncryptionService {\n\n    private ivSize: number = 128;\n\n    public getHmacSha256(secret: string, message: string, hex?: boolean): string {\n        const hash = CryptoJS.HmacSHA256(message, secret);\n        if (hex)\n            return CryptoJS.enc.Hex.stringify(hash).toUpperCase();\n        return CryptoJS.enc.Base64.stringify(hash);\n    }\n\n    public encryptAES(secretKey: string, message: string): string {\n        const iv = CryptoJS.lib.WordArray.random(this.ivSize / 8);\n        const key = CryptoJS.enc.Utf8.parse(secretKey);\n        const encrypted = CryptoJS.AES.encrypt(message, key, {\n            iv: iv,\n            padding: CryptoJS.pad.Pkcs7,\n            mode: CryptoJS.mode.CBC,\n        });\n        const encryptMessage = iv.toString() + encrypted.toString();\n        return encryptMessage;\n    }\n\n    public decryptAES(secretKey: string, encryptMessage: string): string {\n        if (encryptMessage) {\n            const iv = CryptoJS.enc.Hex.parse(encryptMessage.substr(0, 32));\n            const key = CryptoJS.enc.Utf8.parse(secretKey);\n            const encrypted = encryptMessage.substring(32);\n            const decrypted = CryptoJS.AES.decrypt(encrypted, key, {\n              iv: iv,\n              padding: CryptoJS.pad.Pkcs7,\n              mode: CryptoJS.mode.CBC,\n            });\n            try {\n                return decrypted.toString(CryptoJS.enc.Utf8);\n            } catch (error) {\n                return null;\n            }\n        }\n        return null;\n    }\n\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Rx';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport class TranslationService extends TranslateHttpLoader {\n\n  constructor(http: HttpClient, prefix?: string, suffix?: string) {\n    super(http, prefix, suffix);\n  }\n\n  getTranslation(lang: string): Observable<any> {\n    return super.getTranslation(lang);\n  }\n\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { EncryptionService } from './services/encryption.service';\nimport { TranslationService } from './services/translation.service';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\n\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslationService(http, './assets/i18n/', '.json');\n}\n\nexport const UTILS_PROVIDERS = [\n  EncryptionService,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n  ],\n  exports: [ TranslateModule ],\n  declarations: [],\n})\nexport class UtilsModule {\n\n  static forRoot(): ModuleWithProviders {\n    return <ModuleWithProviders>{\n      ngModule: UtilsModule,\n      providers: [\n        ...UTILS_PROVIDERS,\n        ...TranslateModule.forRoot({\n              loader: {\n                  provide: TranslateLoader,\n                  useFactory: (createTranslateLoader),\n                  deps: [HttpClient],\n              },\n            }).providers,\n      ],\n    };\n  }\n}\n","export enum DatePattern {\n    SLASH = '^(?:(?:31(\\\\/)(?:0?[13578]|1[02]))' +\n            '\\\\1|(?:(?:29|30)(\\\\/)(?:0?[13-9]|1[0-2])' +\n            '\\\\2))(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$|^(?:29(\\\\/)0?2' +\n            '\\\\3(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|' +\n            '(?:(?:16|[2468][048]|[3579][26])00))))$|' +\n            '^(?:0?[1-9]|1\\\\d|2[0-8])(\\\\/)(?:(?:0?[1-9])|(?:1[0-2]))' +\n            '\\\\4(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$',\n    DASH = '^(?:(?:31(-)(?:0?[13578]|1[02]))' +\n            '\\\\1|(?:(?:29|30)(-)(?:0?[13-9]|1[0-2])' +\n            '\\\\2))(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$|^(?:29(-)0?2' +\n            '\\\\3(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|' +\n            '(?:(?:16|[2468][048]|[3579][26])00))))$|' +\n            '^(?:0?[1-9]|1\\\\d|2[0-8])(-)(?:(?:0?[1-9])|(?:1[0-2]))' +\n            '\\\\4(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$',\n    DOT = '^(?:(?:31(\\\\.)(?:0?[13578]|1[02]))' +\n            '\\\\1|(?:(?:29|30)(\\\\.)(?:0?[13-9]|1[0-2])' +\n            '\\\\2))(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$|^(?:29(\\\\.)0?2' +\n            '\\\\3(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|' +\n            '(?:(?:16|[2468][048]|[3579][26])00))))$|' +\n            '^(?:0?[1-9]|1\\\\d|2[0-8])(\\\\.)(?:(?:0?[1-9])|(?:1[0-2]))' +\n            '\\\\4(?:(?:1[6-9]|[2-9]\\\\d)?\\\\d{2})$',\n}\n\nexport enum DateFormat {\n        DATE = 'dd/MM/yyyy',\n        DATETIME = 'dd/MM/yyyy HH:mm:ss.S',\n}\n","export enum Pattern {\n    EMAIL = '.+@.+\\..+',\n    PHONE_NUMBER = '^(([+]([0-9]{1,2}))|([0-9]{1}))([0-9]{2}-?)([0-9]{4}-?)([0-9]{1,6}-?)$',\n    PASSWORD_MEDIUM = '^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]{8,}$',\n    PASSWORD_STRONG = '^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@$!%*?&])[A-Za-z0-9@$!%*?&]{8,}$',\n    LOCALE = '^en-US$|^id-ID$',\n}\n"],"names":["CryptoJS.HmacSHA256","CryptoJS.enc","CryptoJS.lib","CryptoJS.AES","CryptoJS.pad","CryptoJS.mode","tslib_1.__extends"],"mappings":"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"}
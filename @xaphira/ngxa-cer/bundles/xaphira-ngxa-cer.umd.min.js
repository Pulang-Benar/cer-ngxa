!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@xaphira/shared"),require("@xaphira/ngxa-storage"),require("rxjs"),require("@angular/forms"),require("@nebular/theme"),require("@xaphira/ngxa-theme"),require("@xaphira/ngxa-common"),require("@angular/router"),require("@xaphira/ngxa-auth"),require("rxjs/operators"),require("@xaphira/utils"),require("@angular/platform-browser"),require("@swimlane/ngx-datatable")):"function"==typeof define&&define.amd?define("@xaphira/ngxa-cer",["exports","@angular/core","@angular/common","@xaphira/shared","@xaphira/ngxa-storage","rxjs","@angular/forms","@nebular/theme","@xaphira/ngxa-theme","@xaphira/ngxa-common","@angular/router","@xaphira/ngxa-auth","rxjs/operators","@xaphira/utils","@angular/platform-browser","@swimlane/ngx-datatable"],t):t(((e=e||self).xaphira=e.xaphira||{},e.xaphira["ngxa-cer"]={}),e.ng.core,e.ng.common,e.shared,e.ngxaStorage,e.rxjs,e.ng.forms,e["@nebular/theme"],e["@xaphira/ngxa-theme"],e["@xaphira/ngxa-common"],e.ng.router,e["@xaphira/ngxa-auth"],e.rxjs.operators,e["@xaphira/utils"],e.ng.platformBrowser,e.ngxDatatable)}(this,(function(e,t,a,o,n,r,i,l,d,s,c,p,b,h,u,m){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};function f(e,t){function a(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}function x(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var o,n,r=a.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return i}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}var v=function(e){function a(t){return e.call(this,t,"cer",1,"#cer-panic")||this}return f(a,e),a.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],a.ctorParameters=function(){return[{type:t.Injector}]},a.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new a(t.ɵɵinject(t.INJECTOR))},token:a,providedIn:"root"}),a}(n.IndexedDBService),w=function(){function e(e){this.panicIndexedDB=e,this.loaderPanicSubject$=new r.Subject}return e.prototype.notifyPanic=function(e){var t=this;this.panicIndexedDB.put(e.panicCode,e).then((function(){t.loaderPanicSubject$.next(e.panicCode)}))},e.prototype.putAllPanic=function(e){var t=this;e.forEach((function(e){t.panicIndexedDB.put(e.panicCode,e).then()}))},e.prototype.clearAllPanic=function(){return this.panicIndexedDB.clearAll()},e.prototype.getPanic=function(e){return this.panicIndexedDB.get(e)},e.prototype.getAllPanic=function(){return this.panicIndexedDB.getAllOf()},e.prototype.onCheckPanic=function(){return this.loaderPanicSubject$.asObservable()},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[o.PANIC_INDEXED_DB]}]}]},e}();var k=[{provide:o.PANIC_INDEXED_DB,useClass:v},{provide:o.PANIC,useClass:w},v,w],A=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:y(k)}},e.decorators=[{type:t.NgModule,args:[{imports:[a.CommonModule],exports:[],declarations:[]}]}],e}(),S=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"xa-cer-dashboard",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),C=function(){function e(e,t){var a=this;this.panicService=t,this.showInfo=!1,this.destroy$=new r.Subject,this.http=e.get(o.HTTP_SERVICE),this.api=e.get(o.API),this.panicService.onCheckPanic().pipe(b.takeUntil(this.destroy$)).subscribe((function(){a.getAllPanicStorage()}))}return e.prototype.ngOnInit=function(){this.getAllPanicServer()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.getAllPanicServer=function(){var e=this;this.http.HTTP_AUTH(this.api.panic["get-allpanic"]).subscribe((function(t){var a=[];t.forEach((function(e){a.push({mark:[e.latestLatitude,e.latestLongitude],title:e.name,alt:e.panicCode,className:"pulse"})})),e.markers=a;try{e.panicService.clearAllPanic().then((function(){t.length&&e.panicService.putAllPanic(t)}))}catch(e){}}))},e.prototype.getAllPanicStorage=function(){var e=this;this.panicService.getAllPanic().subscribe((function(t){var a=[];t.forEach((function(e){a.push({mark:[e.latestLatitude,e.latestLongitude],title:e.name,alt:e.panicCode,className:"pulse"})})),e.markers=a}))},e.prototype.onMarker=function(e){this.markerSelected=e,this.showInfo=!0},e.prototype.onToggleInfo=function(e){this.showInfo=e},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-monitoring",template:'<xa-page-outlet [header]="\'Dashboard of Emergency Report\'">\n    <xa-maps-leaflet\n        [markersFn]="markers"\n        (onMarkerClick)="onMarker($event)">\n    </xa-maps-leaflet>\n</xa-page-outlet>\n<xa-cer-slide-out [showInfo]="showInfo" (onToggle)="onToggleInfo($event)">\n    <xa-cer-monitoring-info [markerFn]="markerSelected">\n    </xa-cer-monitoring-info>\n</xa-cer-slide-out>\n',styles:["/*!\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */.nb-theme-default :host{position:relative;display:block;overflow:hidden}.nb-theme-dark :host{position:relative;display:block;overflow:hidden}.nb-theme-cosmic :host{position:relative;display:block;overflow:hidden}.nb-theme-corporate :host{position:relative;display:block;overflow:hidden}"]}]}],e.ctorParameters=function(){return[{type:t.Injector},{type:void 0,decorators:[{type:t.Inject,args:[o.PANIC]}]}]},e}();var I=function(){function e(e,t,a){this.apiPath=e,this.httpBaseService=t,this.sanitizer=a}return e.prototype.ngOnInit=function(){this.getEvidence(this.checksum,this.user,this.fileType)},e.prototype.getEvidence=function(e,t,a){var o=this;this.httpBaseService.HTTP_AUTH(this.apiPath.file.evidence,null,null,null,[e,t],"arraybuffer").pipe(b.tap((function(e){var t=new Blob([e],{type:a}),n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){o.url=o.sanitizer.bypassSecurityTrustUrl(n.result.toString())}}))).subscribe()},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-monitoring-preview",template:'<nb-card *ngIf="url && fileType.includes(\'image\')">\n    <nb-card-body>\n        <img [src]="url" height="500">\n    </nb-card-body>\n</nb-card>\n<video *ngIf="url && fileType.includes(\'video\')" [src]="url" height="500" controls></video>\n<audio *ngIf="url && fileType.includes(\'audio\')" controls>\n    <source [src]="url" [type]="fileType">\n</audio>',styles:[""]}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[o.API]}]},{type:void 0,decorators:[{type:t.Inject,args:[o.HTTP_SERVICE]}]},{type:u.DomSanitizer}]},e.propDecorators={url:[{type:t.Input}],checksum:[{type:t.Input}],user:[{type:t.Input}],fileType:[{type:t.Input}]},e}();var P=function(){function e(e){this.ref=e,this.disabled=!1}return e.prototype.submit=function(e){this.disabled=!0,this.ref.close(e)},e.decorators=[{type:t.Component,args:[{selector:"xa-fake-report-prompt",template:'<nb-card>\n  <nb-card-header>\n    <h6 class="text-danger deactivated-label">\n        {{ \'Fake Report\' | translate }}\n    </h6>\n  </nb-card-header>\n  <nb-card-body>\n    <p>\n      {{ \'message.fake-form\' | translate }}\n    </p>\n    <p>\n      {{ \'message.input-password\' | translate }}\n    </p>\n    <input\n      [(ngModel)]="password"\n      type="password"\n      nbInput\n      class="fake-password"\n      placeholder="Password">\n  </nb-card-body>\n  <nb-card-footer>\n    <button\n      type="submit"\n      status="danger"\n      size="large"\n      class="fake-button"\n      [disabled]="!password || disabled"\n      (click)="submit(password)"\n      nbButton>\n      {{ \'Fake Report\' | translate }}\n    </button>\n  </nb-card-footer>\n</nb-card>\n',styles:["/*!\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */.nb-theme-default :host input.fake-password{max-width:unset;width:100%}.nb-theme-default :host .cancel{margin-right:1rem}.nb-theme-default :host button.fake-button{width:100%}.nb-theme-dark :host input.fake-password{max-width:unset;width:100%}.nb-theme-dark :host .cancel{margin-right:1rem}.nb-theme-dark :host button.fake-button{width:100%}.nb-theme-cosmic :host input.fake-password{max-width:unset;width:100%}.nb-theme-cosmic :host .cancel{margin-right:1rem}.nb-theme-cosmic :host button.fake-button{width:100%}.nb-theme-corporate :host input.fake-password{max-width:unset;width:100%}.nb-theme-corporate :host .cancel{margin-right:1rem}.nb-theme-corporate :host button.fake-button{width:100%}@media (max-width:767.98px){.nb-theme-default :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-default :host button.fake-button{font-size:.6rem}.nb-theme-dark :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-dark :host button.fake-button{font-size:.6rem}.nb-theme-cosmic :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-cosmic :host button.fake-button{font-size:.6rem}.nb-theme-corporate :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-corporate :host button.fake-button{font-size:.6rem}}"]}]}],e.ctorParameters=function(){return[{type:l.NbDialogRef}]},e}();var N=function(e){function a(t,a,n,r,i){var l=e.call(this,t,null,{status:[],emergencyCategory:[]})||this;return l.injector=t,l.router=a,l.route=n,l.panicService=r,l.dialogService=i,l.profile={},l.imageDefault=document.getElementsByTagName("base")[0].href+"/assets/images/avatars/default.png",l.columns=[{name:"Evidence",prop:"fileMetadata",width:100,frozenLeft:!0,type:"button",button:"Preview",buttonStatus:"warning"},{name:"File Size",prop:"fileMetadata.size",width:125,frozenLeft:!0,type:"prefix",prefix:"bytes"},{name:"Latitude",prop:"location.latitude",width:125,frozenLeft:!0},{name:"Longitude",prop:"location.longitude",width:125,frozenLeft:!0},{name:"Address",prop:"location.formattedAddress",width:350},{name:"Province",prop:"location.province",width:150},{name:"City",prop:"location.city",width:150},{name:"District",prop:"location.district",width:150},{name:"Device ID",prop:"device.deviceID",width:150},{name:"Device Name",prop:"device.deviceName",width:150}],l.sort={desc:["createdDate"]},l.enc=t.get(h.EncryptionService),l.oauthResource=t.get(o.OAUTH_INFO),l.apiSelectParameter=l.api.master["select-parameter"],l.route.snapshot.params.code?(l.panicCode=l.route.snapshot.params.code,l.keyword={panicCode:l.panicCode}):l.router.navigate(["/app/dashboard"]),l.apiPath=l.api.panic["datatable-panic-detail"],l}return f(a,e),a.prototype.ngOnDestroy=function(){},a.prototype.ngOnInit=function(){this.onInit("security","get-profile-personal"),this.paramSelectStatus=[{key:"parameterGroupCode",value:"STATUS_EMERGENCY"}],this.paramSelectEmergency=[{key:"parameterGroupCode",value:"CATEGORY_EMERGENCY"}]},a.prototype.onInit=function(e,t){var a=this;this.panicService.getPanic(this.panicCode).then((function(o){a.loadingForm=!0,a.username=o.username;var n={username:o.username};a.exec(e,t,n).subscribe((function(e){a.loadingForm=!1,a.profile=e,e.image&&(a.image=e.image)}),(function(e){a.loadingForm=!0;var t=e.error;t?a.toastr.showI18n(t.respStatusMessage[t.respStatusCode],!0,null,"danger"):a.toastr.showI18n(t,!0,null,"danger")}))}))},a.prototype.valueSelect=function(e){return this.formGroup.get(e).value?this.formGroup.get(e).value.value?this.formGroup.get(e).value.value:this.formGroup.get(e).value:null},a.prototype.onPreview=function(e){this.dialogService.open(I,{context:{checksum:e.checksum,user:this.username,fileType:e.fileType}})},a.prototype.onFake=function(){var t=this;this.dialogService.open(P).onClose.subscribe((function(a){if(a){t.disabledFake=!0;var n={password:t.enc.encryptAES(t.oauthResource.aes_key,a),panicCode:t.panicCode};e.prototype.onSubmit.call(t,n,"panic","fake-report").pipe(b.takeUntil(t.destroy$)).subscribe((function(e){e&&e.respStatusCode===o.ResponseCode.OK_SCR011.toString()&&t.router.navigate(["/app/dashboard"])}))}else t.disabledFake=!1}))},a.prototype.onProcess=function(){var t=this,a={panicCode:this.panicCode,status:this.valueSelect("status"),emergencyCategory:this.valueSelect("emergencyCategory")};e.prototype.onSubmit.call(this,a,"panic","process-report").pipe(b.takeUntil(this.destroy$)).subscribe((function(e){e&&e.respStatusCode===o.ResponseCode.OK_UPDATED.toString()&&t.router.navigate(["/app/dashboard"])}))},a.decorators=[{type:t.Component,args:[{selector:"xa-cer-monitoring-detail",template:'<xa-page-outlet [url]="\'/app/dashboard\'" [header]="\'Emergency Report Detail\'">\n    <div class="row">\n        <div class="col-md-4 col-lg-4 col-xxxl-6">\n            <div class="photo-profile"\n            [ngStyle]="{ \n                \'background-image\': \'url(\' + (image? image: imageDefault) + \')\'\n            }">\n            </div>\n        </div>\n        <div class="col-md-8 col-lg-8 col-xxxl-6">\n            <div class="split-row">\n                <xa-label-text\n                    [label]="\'Name\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.name"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'ID Number\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.idNumber"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Gender\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.gender"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Place / Date of Birth\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.placeOfBirth ? (profile.placeOfBirth + \', \' + profile.dateOfBirth) : \'\'"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n            </div>\n            <div class="split-row">\n                <xa-label-text\n                    [label]="\'Username\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.username"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Email\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.email"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Phone Number\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.phoneNumber"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Address\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.address"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Country\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.country"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n            </div>\n            <div class="split-row">\n                <xa-label-text\n                    [label]="\'Related Person\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.referenceName"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Relationship\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.relationship"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Address\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.referenceAddress"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Phone Number\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.referencePhoneNumber"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n            </div>\n            <form [formGroup]="formGroup">\n                <xa-select\n                    [name]="\'status\'"\n                    [label]="\'Status\'"\n                    [colLabel]="4"\n                    [colInput]="8"\n                    [required]="true"\n                    [api]="apiSelectParameter"\n                    [queryParam]="paramSelectStatus"\n                    [searchable]="false"\n                    [skeleton]="loadingForm"\n                    formControlName="status">\n                </xa-select>\n                <xa-select\n                    [name]="\'emergency\'"\n                    [label]="\'Emergency\'"\n                    [colLabel]="4"\n                    [colInput]="8"\n                    [required]="true"\n                    [api]="apiSelectParameter"\n                    [queryParam]="paramSelectEmergency"\n                    [searchable]="false"\n                    [skeleton]="loadingForm"\n                    formControlName="emergencyCategory">\n                </xa-select>\n                <div class="form-group row">\n                    <div class="offset-sm-4 col-sm-8">\n                        <button\n                            type="reset"\n                            status="danger"\n                            (click)="onFake()"\n                            class="reset-left"\n                            nbButton>\n                            {{ \'Fake Report\' | translate}}\n                        </button>\n                        <button\n                            type="submit"\n                            status="primary"\n                            (click)="onProcess()"\n                            [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n                            class="submit-right"\n                            nbButton>\n                            {{ \'Process\' | translate}}\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-md-12 col-lg-12 col-xxxl-6">\n            <xa-datatable\n                [api]="apiPath"\n                [filters]="filters"\n                (onButtonCell)="onPreview($event)"\n                [filterFn]="keyword"\n                [selectionType]="null"\n                [add]="false"\n                [edit]="false"\n                [delete]="false"\n                [sort]="sort"\n                [columns]="columns">\n            </xa-datatable>\n        </div>\n    </div>\n</xa-page-outlet>  ',styles:[".nb-theme-default :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-default :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-default :host .reset-left{margin-right:.25rem}.nb-theme-default :host .submit-right{margin-left:.25rem}.nb-theme-dark :host .split-row{border-bottom:1px solid #151a30;margin-bottom:1rem}.nb-theme-dark :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-dark :host .reset-left{margin-right:.25rem}.nb-theme-dark :host .submit-right{margin-left:.25rem}.nb-theme-cosmic :host .split-row{border-bottom:1px solid #1b1b38;margin-bottom:1rem}.nb-theme-cosmic :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-cosmic :host .reset-left{margin-right:.25rem}.nb-theme-cosmic :host .submit-right{margin-left:.25rem}.nb-theme-corporate :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-corporate :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-corporate :host .reset-left{margin-right:.25rem}.nb-theme-corporate :host .submit-right{margin-left:.25rem}"]}]}],a.ctorParameters=function(){return[{type:t.Injector},{type:c.Router},{type:c.ActivatedRoute},{type:void 0,decorators:[{type:t.Inject,args:[o.PANIC]}]},{type:l.NbDialogService}]},a}(s.BaseFilterComponent);var T=[{path:"",component:S,canActivateChild:[p.AuthGuardChildService],children:[{path:"",component:C,data:{code:"#DASHBOARD-PAGE"}},{path:"details/:code",component:N,data:{code:"#DASHBOARD-PAGE"}}]}],E=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[c.RouterModule.forChild(T)],exports:[c.RouterModule]}]}],e}(),R=function(){function e(){this.showInfo=!1,this.onToggle=new t.EventEmitter}return e.prototype.toggleDetail=function(){this.showInfo=!this.showInfo,this.onToggle.emit(this.showInfo)},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-slide-out",template:'<nb-icon *ngIf="showInfo" [icon]="\'arrow-forward-outline\'"\n         pack="eva"\n         class="show-hide-toggle"\n         (click)="toggleDetail()">\n</nb-icon>\n<div class="slide-out-container"\n     [class.expanded]="showInfo"\n     [class.collapsed]="!showInfo">\n  <div class="content-wrapper">\n    <ng-content></ng-content>\n  </div>\n</div>\n',styles:["/*!\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */.nb-theme-default :host .show-hide-toggle{display:block;position:absolute;top:1.5rem;cursor:pointer;background-color:transparent;z-index:999}[dir=ltr] .nb-theme-default :host .show-hide-toggle{right:1.5rem}[dir=rtl] .nb-theme-default :host .show-hide-toggle{left:1.5rem}.nb-theme-default :host .slide-out-container{position:absolute;padding:1.5rem;width:40%;z-index:998}[dir=ltr] .nb-theme-default :host .slide-out-container{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}[dir=rtl] .nb-theme-default :host .slide-out-container{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.nb-theme-default :host .slide-out-container,.nb-theme-default :host .slide-out-container::before{display:block;height:490px;top:0;overflow:hidden;transition:.2s ease-out}.nb-theme-default :host .slide-out-container::before{content:'';width:100%;position:absolute;background:#f7f9fc;box-shadow:0 4px 14px 0 #8f9bb3;opacity:.9;z-index:1}[dir=ltr] .nb-theme-default :host .slide-out-container::before{right:0}[dir=rtl] .nb-theme-default :host .slide-out-container::before{left:0;box-shadow:0 4px 14px 0 #8f9bb3}[dir=ltr] .nb-theme-default :host .slide-out-container.collapsed{left:calc(100% - 0rem)}[dir=rtl] .nb-theme-default :host .slide-out-container.collapsed{right:calc(100% - 6rem)}.nb-theme-default :host .slide-out-container.expanded{left:calc(100% + 1px - 40%)}[dir=rtl] .nb-theme-default :host .slide-out-container.expanded{left:auto;right:calc(100% - 40%)}.nb-theme-default :host .content-wrapper{z-index:1;position:relative;width:100%;margin:0 6rem;transition:.2s ease-out}.nb-theme-default :host .expanded .content-wrapper{margin:0}@media (max-width:991.98px){.nb-theme-default :host .slide-out-container{width:50%}.nb-theme-default :host .slide-out-container.expanded{left:calc(100% + 1px - 50%)}[dir=rtl] .nb-theme-default :host .slide-out-container.expanded{right:calc(100% + 1px - 50%)}}@media (max-width:575.98px){.nb-theme-default :host .show-hide-toggle{right:.5rem}.nb-theme-default :host .slide-out-container{width:100%}.nb-theme-default :host .slide-out-container.collapsed{left:calc(100% + 1px - 3rem)}[dir=rtl] .nb-theme-default :host .slide-out-container.collapsed{right:calc(100% - 3rem)}.nb-theme-default :host .slide-out-container.expanded{left:calc(100% + 1px - 100%)}[dir=rtl] .nb-theme-default :host .slide-out-container.expanded{right:calc(100% - 100%)}}.nb-theme-dark :host .show-hide-toggle{display:block;position:absolute;top:1.5rem;cursor:pointer;background-color:transparent;z-index:999}[dir=ltr] .nb-theme-dark :host .show-hide-toggle{right:1.5rem}[dir=rtl] .nb-theme-dark :host .show-hide-toggle{left:1.5rem}.nb-theme-dark :host .slide-out-container{position:absolute;padding:1.5rem;width:40%;z-index:998}[dir=ltr] .nb-theme-dark :host .slide-out-container{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}[dir=rtl] .nb-theme-dark :host .slide-out-container{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.nb-theme-dark :host .slide-out-container,.nb-theme-dark :host .slide-out-container::before{display:block;height:490px;top:0;overflow:hidden;transition:.2s ease-out}.nb-theme-dark :host .slide-out-container::before{content:'';width:100%;position:absolute;background:linear-gradient(270deg,#222b45 0,#151a30 100%);box-shadow:0 4px 14px 0 #8f9bb3;opacity:.9;z-index:1}[dir=ltr] .nb-theme-dark :host .slide-out-container::before{right:0}[dir=rtl] .nb-theme-dark :host .slide-out-container::before{left:0;box-shadow:0 4px 14px 0 #8f9bb3}[dir=ltr] .nb-theme-dark :host .slide-out-container.collapsed{left:calc(100% - 0rem)}[dir=rtl] .nb-theme-dark :host .slide-out-container.collapsed{right:calc(100% - 6rem)}.nb-theme-dark :host .slide-out-container.expanded{left:calc(100% + 1px - 40%)}[dir=rtl] .nb-theme-dark :host .slide-out-container.expanded{left:auto;right:calc(100% - 40%)}.nb-theme-dark :host .content-wrapper{z-index:1;position:relative;width:100%;margin:0 6rem;transition:.2s ease-out}.nb-theme-dark :host .expanded .content-wrapper{margin:0}@media (max-width:991.98px){.nb-theme-dark :host .slide-out-container{width:50%}.nb-theme-dark :host .slide-out-container.expanded{left:calc(100% + 1px - 50%)}[dir=rtl] .nb-theme-dark :host .slide-out-container.expanded{right:calc(100% + 1px - 50%)}}@media (max-width:575.98px){.nb-theme-dark :host .show-hide-toggle{right:.5rem}.nb-theme-dark :host .slide-out-container{width:100%}.nb-theme-dark :host .slide-out-container.collapsed{left:calc(100% + 1px - 3rem)}[dir=rtl] .nb-theme-dark :host .slide-out-container.collapsed{right:calc(100% - 3rem)}.nb-theme-dark :host .slide-out-container.expanded{left:calc(100% + 1px - 100%)}[dir=rtl] .nb-theme-dark :host .slide-out-container.expanded{right:calc(100% - 100%)}}.nb-theme-cosmic :host .show-hide-toggle{display:block;position:absolute;top:1.5rem;cursor:pointer;background-color:transparent;z-index:999}[dir=ltr] .nb-theme-cosmic :host .show-hide-toggle{right:1.5rem}[dir=rtl] .nb-theme-cosmic :host .show-hide-toggle{left:1.5rem}.nb-theme-cosmic :host .slide-out-container{position:absolute;padding:1.5rem;width:40%;z-index:998}[dir=ltr] .nb-theme-cosmic :host .slide-out-container{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}[dir=rtl] .nb-theme-cosmic :host .slide-out-container{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.nb-theme-cosmic :host .slide-out-container,.nb-theme-cosmic :host .slide-out-container::before{display:block;height:490px;top:0;overflow:hidden;transition:.2s ease-out}.nb-theme-cosmic :host .slide-out-container::before{content:'';width:100%;position:absolute;background:#252547;box-shadow:2px 0 3px #29157a;opacity:.9;z-index:1}[dir=ltr] .nb-theme-cosmic :host .slide-out-container::before{right:0}[dir=rtl] .nb-theme-cosmic :host .slide-out-container::before{left:0;box-shadow:-2px 0 3px #29157a}[dir=ltr] .nb-theme-cosmic :host .slide-out-container.collapsed{left:calc(100% - 0rem)}[dir=rtl] .nb-theme-cosmic :host .slide-out-container.collapsed{right:calc(100% - 6rem)}.nb-theme-cosmic :host .slide-out-container.expanded{left:calc(100% + 1px - 40%)}[dir=rtl] .nb-theme-cosmic :host .slide-out-container.expanded{left:auto;right:calc(100% - 40%)}.nb-theme-cosmic :host .content-wrapper{z-index:1;position:relative;width:100%;margin:0 6rem;transition:.2s ease-out}.nb-theme-cosmic :host .expanded .content-wrapper{margin:0}@media (max-width:991.98px){.nb-theme-cosmic :host .slide-out-container{width:50%}.nb-theme-cosmic :host .slide-out-container.expanded{left:calc(100% + 1px - 50%)}[dir=rtl] .nb-theme-cosmic :host .slide-out-container.expanded{right:calc(100% + 1px - 50%)}}@media (max-width:575.98px){.nb-theme-cosmic :host .show-hide-toggle{right:.5rem}.nb-theme-cosmic :host .slide-out-container{width:100%}.nb-theme-cosmic :host .slide-out-container.collapsed{left:calc(100% + 1px - 3rem)}[dir=rtl] .nb-theme-cosmic :host .slide-out-container.collapsed{right:calc(100% - 3rem)}.nb-theme-cosmic :host .slide-out-container.expanded{left:calc(100% + 1px - 100%)}[dir=rtl] .nb-theme-cosmic :host .slide-out-container.expanded{right:calc(100% - 100%)}}.nb-theme-corporate :host .show-hide-toggle{display:block;position:absolute;top:1.5rem;cursor:pointer;background-color:transparent;z-index:999}[dir=ltr] .nb-theme-corporate :host .show-hide-toggle{right:1.5rem}[dir=rtl] .nb-theme-corporate :host .show-hide-toggle{left:1.5rem}.nb-theme-corporate :host .slide-out-container{position:absolute;padding:1.5rem;width:40%;z-index:998}[dir=ltr] .nb-theme-corporate :host .slide-out-container{border-top-right-radius:.17rem;border-bottom-right-radius:.17rem}[dir=rtl] .nb-theme-corporate :host .slide-out-container{border-top-left-radius:.17rem;border-bottom-left-radius:.17rem}.nb-theme-corporate :host .slide-out-container,.nb-theme-corporate :host .slide-out-container::before{display:block;height:490px;top:0;overflow:hidden;transition:.2s ease-out}.nb-theme-corporate :host .slide-out-container::before{content:'';width:100%;position:absolute;background:linear-gradient(270deg,#edf1f7 0,#e4e9f2 100%);box-shadow:0 4px 14px 0 #8f9bb3;opacity:.9;z-index:1}[dir=ltr] .nb-theme-corporate :host .slide-out-container::before{right:0}[dir=rtl] .nb-theme-corporate :host .slide-out-container::before{left:0;box-shadow:0 4px 14px 0 #8f9bb3}[dir=ltr] .nb-theme-corporate :host .slide-out-container.collapsed{left:calc(100% - 0rem)}[dir=rtl] .nb-theme-corporate :host .slide-out-container.collapsed{right:calc(100% - 6rem)}.nb-theme-corporate :host .slide-out-container.expanded{left:calc(100% + 1px - 40%)}[dir=rtl] .nb-theme-corporate :host .slide-out-container.expanded{left:auto;right:calc(100% - 40%)}.nb-theme-corporate :host .content-wrapper{z-index:1;position:relative;width:100%;margin:0 6rem;transition:.2s ease-out}.nb-theme-corporate :host .expanded .content-wrapper{margin:0}@media (max-width:991.98px){.nb-theme-corporate :host .slide-out-container{width:50%}.nb-theme-corporate :host .slide-out-container.expanded{left:calc(100% + 1px - 50%)}[dir=rtl] .nb-theme-corporate :host .slide-out-container.expanded{right:calc(100% + 1px - 50%)}}@media (max-width:575.98px){.nb-theme-corporate :host .show-hide-toggle{right:.5rem}.nb-theme-corporate :host .slide-out-container{width:100%}.nb-theme-corporate :host .slide-out-container.collapsed{left:calc(100% + 1px - 3rem)}[dir=rtl] .nb-theme-corporate :host .slide-out-container.collapsed{right:calc(100% - 3rem)}.nb-theme-corporate :host .slide-out-container.expanded{left:calc(100% + 1px - 100%)}[dir=rtl] .nb-theme-corporate :host .slide-out-container.expanded{right:calc(100% - 100%)}}"]}]}],e.propDecorators={showInfo:[{type:t.Input}],onToggle:[{type:t.Output}]},e}();var D=function(){function e(e,t,a){this.router=e,this.panicService=t,this.dialogService=a,this.marker={mark:[0,0]},this.data={}}return Object.defineProperty(e.prototype,"markerFn",{set:function(e){var t=this;e&&this.panicService.getPanic(e.alt).then((function(e){t.data=e}))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.onViewDetails=function(){this.router.navigate(["/app/dashboard/details",this.data.panicCode])},e.prototype.onPreview=function(){this.dialogService.open(I,{context:{checksum:this.data.fileMetadata.checksum,user:this.data.username,fileType:this.data.fileMetadata.fileType}})},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-monitoring-info",template:'<div class="civilians-emergency">\n    <h5 class="h5">{{data.name}}</h5>\n    <div class="civilians-body">\n        <div class="form-group row">\n            <div class="col-sm-5 col-md-5 col-sm-5">\n                <span class="label-body">{{\'ID Number\' | translate}}</span>\n            </div>\n            <div class="col-sm-7 col-md-7 col-sm-7">\n                <span>{{data.idNumber}}</span>\n            </div>\n        </div>\n        <div class="form-group row">\n            <div class="col-sm-5 col-md-5 col-sm-5">\n                <span class="label-body">{{\'Gender\' | translate}}</span>\n            </div>\n            <div class="col-sm-7 col-md-7 col-sm-7">\n                <span>{{data.gender}}</span>\n            </div>\n        </div>\n        <div class="form-group row">\n            <div class="col-sm-5 col-md-5 col-sm-5">\n                <span class="label-body">{{\'Age\' | translate}}</span>\n            </div>\n            <div class="col-sm-7 col-md-7 col-sm-7">\n                <span>{{data.age + \' \'}}{{\'Years\' | translate}}</span>\n            </div>\n        </div>\n        <div class="form-group row">\n            <div class="col-sm-5 col-md-5 col-sm-5">\n                <span class="label-body">{{\'Phone Number\' | translate}}</span>\n            </div>\n            <div class="col-sm-7 col-md-7 col-sm-7">\n                <span>{{data.phoneNumber}}</span>\n            </div>\n        </div>\n        <div class="form-group row">\n            <div class="col-sm-5 col-md-5 col-sm-5">\n                <span class="label-body">{{\'Device Name\' | translate}}</span>\n            </div>\n            <div class="col-sm-7 col-md-7 col-sm-7">\n                <span>{{data.latestDeviceName}}</span>\n            </div>\n        </div>\n        <div class="form-group row">\n            <div class="col-sm-5 col-md-5 col-sm-5">\n                <span class="label-body">{{\'Location\' | translate}}</span>\n            </div>\n            <div class="col-sm-7 col-md-7 col-sm-7">\n                <span>{{data.latestFormattedAddress}}</span>\n            </div>\n        </div>\n        <div class="form-group row">\n            <div class="col-sm-8 col-md-8 col-sm-8">\n                <button\n                type="submit"\n                status="warning"\n                class="preview-right"\n                (click)="onPreview()"\n                nbButton>\n                {{ \'Preview\' | translate}}\n                </button>\n            </div>\n            <div class="col-sm-4 col-md-4 col-sm-4">\n                <button\n                type="submit"\n                status="primary"\n                class="details-right"\n                (click)="onViewDetails()"\n                nbButton>\n                {{ \'Details\' | translate}}\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="civilians-footer">\n    </div>\n</div>\n',styles:[".nb-theme-default :host .civilians-emergency{width:100%;z-index:999}.nb-theme-default :host .civilians-body{margin:2rem 0;font-size:.85rem}.nb-theme-default :host .label-body{color:#8e9196;font-family:Open Sans,sans-serif;line-height:1rem;font-weight:700}.nb-theme-default :host .preview-right{right:0;position:absolute;margin:2rem 0}.nb-theme-default :host .details-right{right:0;position:absolute;margin:2rem 1rem}.nb-theme-dark :host .civilians-emergency{width:100%;z-index:999}.nb-theme-dark :host .civilians-body{margin:2rem 0;font-size:.85rem}.nb-theme-dark :host .label-body{color:#8e9196;font-family:Open Sans,sans-serif;line-height:1rem;font-weight:700}.nb-theme-dark :host .preview-right{right:0;position:absolute;margin:2rem 0}.nb-theme-dark :host .details-right{right:0;position:absolute;margin:2rem 1rem}.nb-theme-cosmic :host .civilians-emergency{width:100%;z-index:999}.nb-theme-cosmic :host .civilians-body{margin:2rem 0;font-size:.85rem}.nb-theme-cosmic :host .label-body{color:#8e9196;font-family:Open Sans,sans-serif;line-height:1rem;font-weight:700}.nb-theme-cosmic :host .preview-right{right:0;position:absolute;margin:2rem 0}.nb-theme-cosmic :host .details-right{right:0;position:absolute;margin:2rem 1rem}.nb-theme-corporate :host .civilians-emergency{width:100%;z-index:999}.nb-theme-corporate :host .civilians-body{margin:2rem 0;font-size:.85rem}.nb-theme-corporate :host .label-body{color:#8e9196;font-family:Open Sans,sans-serif;line-height:1rem;font-weight:700}.nb-theme-corporate :host .preview-right{right:0;position:absolute;margin:2rem 0}.nb-theme-corporate :host .details-right{right:0;position:absolute;margin:2rem 1rem}"]}]}],e.ctorParameters=function(){return[{type:c.Router},{type:void 0,decorators:[{type:t.Inject,args:[o.PANIC]}]},{type:l.NbDialogService}]},e.propDecorators={markerFn:[{type:t.Input}]},e}();var F=function(){function e(e,a,n){this.locale=e,this.layout=a,this.injector=n,this.rows=[],this.columns=[],this.filters=[],this.selected=[],this.limit=10,this.count=0,this.offset=0,this.externalPaging=!1,this.externalSorting=!1,this.loadingIndicator=!1,this.scrollbarH=!0,this.scrollbarV=!1,this.reorderable=!0,this.sortType=m.SortType.single,this.columnMode=m.ColumnMode.force,this.headerHeight=40,this.footerHeight="auto",this.rowHeight="auto",this.column=!0,this.footer=!0,this.startWithOpenData=!0,this.filterEvent=!1,this.buttonCell=new t.EventEmitter,this.select=new t.EventEmitter,this.activate=new t.EventEmitter,this.destroy$=new r.Subject,this.pageOffset=0,this.http=n.get(o.HTTP_SERVICE),this.cdref=n.get(t.ChangeDetectorRef)}return Object.defineProperty(e.prototype,"filterFn",{set:function(e){this.keywordParam=e,this._keyword=e,this.count=0,this.offset=0},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.startWithOpenData&&this.fetch(),this.layout.onChangeLayoutSize().takeUntil(this.destroy$).subscribe((function(){e.datatable.recalculate(),e.cdref.detectChanges()}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()},e.prototype.fetch=function(){var e=this;this.api&&(this.externalPaging=!0,this.externalSorting=!0,this.getRequest().subscribe((function(t){e.rows=t,e.cdref.detectChanges()})))},e.prototype.onSort=function(e){var t=this;e&&Array.isArray(e.sorts)&&e.sorts.forEach((function(e){"asc"===e.dir?t.sort={asc:[e.prop]}:t.sort={desc:[e.prop]}})),this.fetch()},e.prototype.onSelect=function(e){this.select.emit(e)},e.prototype.onActivate=function(e){"click"===e.type&&("checkbox"===this.selectionType?e.cellIndex>0&&this.activate.emit(e.row):this.activate.emit(e.row))},e.prototype.setPage=function(e){this.pageOffset=e.offset*this.limit,this.fetch()},e.prototype.sanitizedValue=function(e){return null!=e?this.stripHtml(e):e},e.prototype.stripHtml=function(e){return e.replace?e.replace(/<\/?[^>]+(>|$)/g,""):e},e.prototype.onClickButton=function(e){this.buttonCell.emit(e)},e.prototype.getRequest=function(){var e=this,t={offset:this.pageOffset,limit:this.limit,keyword:this._keyword,order:this.sort};return this.loadingIndicator=!0,this.http.HTTP_AUTH(this.api,t).pipe(b.map((function(t){return e.count=Number(t.totalRecord),e.loadingIndicator=!1,t.data})),b.catchError((function(){return e.loadingIndicator=!1,e.count=0,r.of([])})))},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-datatable",template:'<ngx-datatable\n    class="ngxa"\n    [rows]="rows"\n    [columns]="columns"\n    [selected]="selected"\n    [limit]="limit"\n    [count]="count"\n    [offset]="offset"\n    [externalPaging]="externalPaging"\n    [externalSorting]="externalSorting"\n    [loadingIndicator]="loadingIndicator"\n    [scrollbarH]="scrollbarH"\n    [scrollbarV]="scrollbarV"\n    [reorderable]="reorderable"\n    [sortType]="sortType"\n    [selectionType]="selectionType"\n    [columnMode]="columnMode"\n    [headerHeight]="headerHeight"\n    [footerHeight]="footerHeight"\n    [rowHeight]="rowHeight"\n    (page)="setPage($event)"\n    (sort)="onSort($event)"\n    (select)="onSelect($event)"\n    (activate)="onActivate($event)"\n    #datatable>\n    <div *ngIf="column">\n        <ngx-datatable-column *ngIf="selectionType === \'checkbox\'"\n            [width]="30"\n            [sortable]="false"\n            [canAutoResize]="false"\n            [draggable]="false"\n            [resizeable]="false"\n            [headerCheckboxable]="true"\n            [checkboxable]="true"\n            [frozenLeft]="true">\n        </ngx-datatable-column>\n        <ngx-datatable-column *ngFor="let col of columns"\n            [prop]="col.prop"\n            [name]="col.name | translate"\n            [sortable]="col.sortable"\n            [canAutoResize]="col.canAutoResize"\n            [draggable]="col.draggable"\n            [resizeable]="col.resizeable"\n            [width]="col.width"\n            [frozenLeft]="col.frozenLeft"\n            [frozenRight]="col.frozenRight">\n            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>\n                <span *ngIf="!col.cellTemplate && !col.type" [title]="sanitizedValue(value)" [innerHTML]="value"></span>\n                <span *ngIf="!col.cellTemplate && col.type === \'html\'" [title]="sanitizedValue(value)" [innerHTML]="value"></span>\n                <span *ngIf="!col.cellTemplate && col.type === \'icon\'" [title]="sanitizedValue(value)"><span class="{{value}}"></span></span>\n                <button\n                    *ngIf="!col.cellTemplate && col.type === \'button\'"\n                    [status]="col.buttonStatus ? col.buttonStatus : \'primary\'"\n                    (click)="onClickButton(value)"\n                    [size]="\'tiny\'"\n                    nbButton>\n                    {{ col.button | translate }}\n                </button>\n            </ng-template>\n        </ngx-datatable-column>\n    </div>\n    <ngx-datatable-footer *ngIf="footer">\n        <ng-template\n            ngx-datatable-footer-template\n            let-rowCount="rowCount"\n            let-pageSize="pageSize"\n            let-selectedCount="selectedCount"\n            let-curPage="curPage"\n            let-offset="offset"\n            let-isVisible="isVisible">\n            <div class="page-count">\n                <div> {{ selectedCount }} {{ \'Selected\' | translate }} | {{ count }} {{ \'Total\' | translate }} </div>\n            </div>\n            <datatable-pager\n                [pagerLeftArrowIcon]="\'datatable-icon-left\'"\n                [pagerRightArrowIcon]="\'datatable-icon-right\'"\n                [pagerPreviousIcon]="\'datatable-icon-prev\'"\n                [pagerNextIcon]="\'datatable-icon-skip\'"\n                [page]="curPage"\n                [size]="pageSize"\n                [count]="rowCount"\n                [hidden]="!((rowCount / pageSize) > 1)"\n                (change)="datatable.onFooterPage($event)">\n            </datatable-pager>\n        </ng-template>\n    </ngx-datatable-footer>\n</ngx-datatable>\n',encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,styles:[".ngx-datatable.material{background:#fff;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.ngx-datatable.material.striped .datatable-row-odd{background:#eee}.ngx-datatable.material.multi-click-selection .datatable-body-row.active,.ngx-datatable.material.multi-click-selection .datatable-body-row.active .datatable-row-group,.ngx-datatable.material.multi-selection .datatable-body-row.active,.ngx-datatable.material.multi-selection .datatable-body-row.active .datatable-row-group,.ngx-datatable.material.single-selection .datatable-body-row.active,.ngx-datatable.material.single-selection .datatable-body-row.active .datatable-row-group{background-color:#304ffe;color:#fff}.ngx-datatable.material.multi-click-selection .datatable-body-row.active:hover,.ngx-datatable.material.multi-click-selection .datatable-body-row.active:hover .datatable-row-group,.ngx-datatable.material.multi-selection .datatable-body-row.active:hover,.ngx-datatable.material.multi-selection .datatable-body-row.active:hover .datatable-row-group,.ngx-datatable.material.single-selection .datatable-body-row.active:hover,.ngx-datatable.material.single-selection .datatable-body-row.active:hover .datatable-row-group{background-color:#193ae4;color:#fff}.ngx-datatable.material.multi-click-selection .datatable-body-row.active:focus,.ngx-datatable.material.multi-click-selection .datatable-body-row.active:focus .datatable-row-group,.ngx-datatable.material.multi-selection .datatable-body-row.active:focus,.ngx-datatable.material.multi-selection .datatable-body-row.active:focus .datatable-row-group,.ngx-datatable.material.single-selection .datatable-body-row.active:focus,.ngx-datatable.material.single-selection .datatable-body-row.active:focus .datatable-row-group{background-color:#2041ef;color:#fff}.ngx-datatable.material:not(.cell-selection) .datatable-body-row:hover,.ngx-datatable.material:not(.cell-selection) .datatable-body-row:hover .datatable-row-group{background-color:#eee;transition-property:background;transition-duration:.3s;transition-timing-function:linear}.ngx-datatable.material:not(.cell-selection) .datatable-body-row:focus,.ngx-datatable.material:not(.cell-selection) .datatable-body-row:focus .datatable-row-group{background-color:#ddd}.ngx-datatable.material.cell-selection .datatable-body-cell:hover,.ngx-datatable.material.cell-selection .datatable-body-cell:hover .datatable-row-group{background-color:#eee;transition-property:background;transition-duration:.3s;transition-timing-function:linear}.ngx-datatable.material.cell-selection .datatable-body-cell:focus,.ngx-datatable.material.cell-selection .datatable-body-cell:focus .datatable-row-group{background-color:#ddd}.ngx-datatable.material.cell-selection .datatable-body-cell.active,.ngx-datatable.material.cell-selection .datatable-body-cell.active .datatable-row-group{background-color:#304ffe;color:#fff}.ngx-datatable.material.cell-selection .datatable-body-cell.active:hover,.ngx-datatable.material.cell-selection .datatable-body-cell.active:hover .datatable-row-group{background-color:#193ae4;color:#fff}.ngx-datatable.material.cell-selection .datatable-body-cell.active:focus,.ngx-datatable.material.cell-selection .datatable-body-cell.active:focus .datatable-row-group{background-color:#2041ef;color:#fff}.ngx-datatable.material .empty-row{height:50px;text-align:left;padding:.5rem 1.2rem;vertical-align:top;border-top:0}.ngx-datatable.material .loading-row{text-align:left;padding:.5rem 1.2rem;vertical-align:top;border-top:0}.ngx-datatable.material .datatable-body .datatable-row-left,.ngx-datatable.material .datatable-header .datatable-row-left{background-color:#fff;background-position:100% 0;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQIHWPSkNeSBmJhTQVtbiDNCgASagIIuJX8OgAAAABJRU5ErkJggg==)}.ngx-datatable.material .datatable-body .datatable-row-right,.ngx-datatable.material .datatable-header .datatable-row-right{background-position:0 0;background-color:#fff;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQI12PQkNdi1VTQ5gbSwkAsDQARLAIGtOSFUAAAAABJRU5ErkJggg==)}.ngx-datatable.material .datatable-header{border-bottom:1px solid rgba(0,0,0,.12)}.ngx-datatable.material .datatable-header .datatable-header-cell{text-align:left;padding:.9rem 1.2rem;background-color:#fff;color:rgba(0,0,0,.54);vertical-align:bottom;font-size:12px;font-weight:500}.ngx-datatable.material .datatable-header .datatable-header-cell .datatable-header-cell-wrapper{position:relative}.ngx-datatable.material .datatable-header .datatable-header-cell.longpress .draggable::after{transition:transform .4s,opacity .4s;opacity:.5;transform:scale(1)}.ngx-datatable.material .datatable-header .datatable-header-cell .draggable::after{content:' ';position:absolute;top:50%;left:50%;margin:-30px 0 0 -30px;height:60px;width:60px;background:#eee;border-radius:100%;opacity:1;-webkit-filter:none;filter:none;transform:scale(0);z-index:9999;pointer-events:none}.ngx-datatable.material .datatable-header .datatable-header-cell.dragging .resize-handle{border-right:none}.ngx-datatable.material .datatable-header .resize-handle{border-right:1px solid #eee}.ngx-datatable.material .datatable-body .datatable-row-detail{background:#f5f5f5;padding:10px}.ngx-datatable.material .datatable-body .datatable-group-header{background:#f5f5f5;border-bottom:1px solid #d9d8d9;border-top:1px solid #d9d8d9}.ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-cell,.ngx-datatable.material .datatable-body .datatable-body-row .datatable-body-group-cell{text-align:left;padding:.9rem 1.2rem;vertical-align:top;border-top:0;color:rgba(0,0,0,.87);transition:width .3s;font-size:14px;font-weight:400}.ngx-datatable.material .datatable-body .progress-linear{display:block;width:100%;height:5px;padding:0;margin:0;position:absolute}.ngx-datatable.material .datatable-body .progress-linear .container{display:block;position:relative;overflow:hidden;width:100%;height:5px;transform:translate(0,0) scale(1,1);background-color:#aad1f9}.ngx-datatable.material .datatable-body .progress-linear .container .bar{transition:transform .2s linear;-webkit-animation:.8s cubic-bezier(.39,.575,.565,1) infinite query;animation:.8s cubic-bezier(.39,.575,.565,1) infinite query;background-color:#106cc8;position:absolute;left:0;top:0;bottom:0;width:100%;height:5px}.ngx-datatable.material .datatable-footer{border-top:1px solid rgba(0,0,0,.12);font-size:12px;font-weight:400;color:rgba(0,0,0,.54)}.ngx-datatable.material .datatable-footer .page-count{line-height:50px;height:50px;padding:0 1.2rem}.ngx-datatable.material .datatable-footer .datatable-pager{margin:0 10px}.ngx-datatable.material .datatable-footer .datatable-pager li{vertical-align:middle}.ngx-datatable.material .datatable-footer .datatable-pager li.disabled a{color:rgba(0,0,0,.26)!important;background-color:transparent!important}.ngx-datatable.material .datatable-footer .datatable-pager li.active a{background-color:rgba(158,158,158,.2);font-weight:700}.ngx-datatable.material .datatable-footer .datatable-pager a{height:22px;min-width:24px;line-height:22px;padding:0 6px;border-radius:3px;margin:6px 3px;text-align:center;color:rgba(0,0,0,.54);text-decoration:none;vertical-align:bottom}.ngx-datatable.material .datatable-footer .datatable-pager a:hover{color:rgba(0,0,0,.75);background-color:rgba(158,158,158,.2)}.ngx-datatable.material .datatable-footer .datatable-pager .datatable-icon-left,.ngx-datatable.material .datatable-footer .datatable-pager .datatable-icon-prev,.ngx-datatable.material .datatable-footer .datatable-pager .datatable-icon-right,.ngx-datatable.material .datatable-footer .datatable-pager .datatable-icon-skip{font-size:20px;line-height:20px;padding:0 3px}.ngx-datatable.material .datatable-summary-row .datatable-body-row,.ngx-datatable.material .datatable-summary-row .datatable-body-row:hover{background-color:#ddd}.ngx-datatable.material .datatable-summary-row .datatable-body-row .datatable-body-cell{font-weight:700}.datatable-checkbox{position:relative;margin:0;cursor:pointer;vertical-align:middle;display:inline-block;box-sizing:border-box;padding:0}.datatable-checkbox input[type=checkbox]{position:relative;margin:0 1rem 0 0;cursor:pointer;outline:0}.datatable-checkbox input[type=checkbox]:before{transition:.3s ease-in-out;content:'';position:absolute;left:0;z-index:1;width:1rem;height:1rem;border:2px solid #f2f2f2}.datatable-checkbox input[type=checkbox]:checked:before{transform:rotate(-45deg);height:.5rem;border-color:#009688;border-top-style:none;border-right-style:none}.datatable-checkbox input[type=checkbox]:after{content:'';position:absolute;top:0;left:0;width:1rem;height:1rem;background:#fff;cursor:pointer}@-webkit-keyframes query{0%{opacity:1;transform:translateX(35%) scale(.3,1)}100%{opacity:0;transform:translateX(-50%) scale(0,1)}}@keyframes query{0%{opacity:1;transform:translateX(35%) scale(.3,1)}100%{opacity:0;transform:translateX(-50%) scale(0,1)}}.ngx-datatable.bootstrap{box-shadow:none;font-size:13px}.ngx-datatable.bootstrap .datatable-header{height:unset!important}.ngx-datatable.bootstrap .datatable-header .datatable-header-cell{vertical-align:bottom;padding:.75rem;border-bottom:1px solid #d1d4d7}.ngx-datatable.bootstrap .datatable-header .datatable-header-cell .datatable-header-cell-label{line-height:24px}.ngx-datatable.bootstrap .datatable-body .datatable-body-row{vertical-align:top;border-top:1px solid #d1d4d7}.ngx-datatable.bootstrap .datatable-body .datatable-body-row.datatable-row-even{background-color:rgba(0,0,0,.05)}.ngx-datatable.bootstrap .datatable-body .datatable-body-row.active{background-color:#1483ff;color:#fff}.ngx-datatable.bootstrap .datatable-body .datatable-body-row .datatable-body-cell{padding:.75rem;text-align:left;vertical-align:top}.ngx-datatable.bootstrap .datatable-body .empty-row{position:relative;padding:.75rem 1.25rem;margin-bottom:0}.ngx-datatable.bootstrap .datatable-footer{background:#424242;color:#ededed;margin-top:-1px}.ngx-datatable.bootstrap .datatable-footer .page-count{line-height:50px;height:50px;padding:0 1.2rem}.ngx-datatable.bootstrap .datatable-footer .datatable-pager{margin:0 10px;vertical-align:top}.ngx-datatable.bootstrap .datatable-footer .datatable-pager ul li{margin:10px 0}.ngx-datatable.bootstrap .datatable-footer .datatable-pager ul li:not(.disabled).active a,.ngx-datatable.bootstrap .datatable-footer .datatable-pager ul li:not(.disabled):hover a{background-color:#545454;font-weight:700}.ngx-datatable.bootstrap .datatable-footer .datatable-pager a{height:22px;min-width:24px;line-height:22px;padding:0;border-radius:3px;margin:0 3px;text-align:center;text-decoration:none;vertical-align:bottom;color:#ededed}.ngx-datatable.bootstrap .datatable-footer .datatable-pager .datatable-icon-left,.ngx-datatable.bootstrap .datatable-footer .datatable-pager .datatable-icon-prev,.ngx-datatable.bootstrap .datatable-footer .datatable-pager .datatable-icon-right,.ngx-datatable.bootstrap .datatable-footer .datatable-pager .datatable-icon-skip{font-size:18px;line-height:27px;padding:0 3px}.ngx-datatable.bootstrap .datatable-summary-row .datatable-body-row .datatable-body-cell{font-weight:700}.ngx-datatable.dark{box-shadow:none;background:#1b1e27;border:1px solid #2f3646;color:#fff;font-size:13px}.ngx-datatable.dark .datatable-header{background:#181b24;color:#72809b}.ngx-datatable.dark .datatable-header .datatable-header-cell{text-align:left;padding:.5rem 1.2rem;font-weight:700}.ngx-datatable.dark .datatable-header .datatable-header-cell .datatable-header-cell-label{line-height:24px}.ngx-datatable.dark .datatable-body{background:#1a1e28}.ngx-datatable.dark .datatable-body .datatable-body-row{border-top:1px solid #2f3646}.ngx-datatable.dark .datatable-body .datatable-body-row .datatable-body-cell{text-align:left;padding:.5rem 1.2rem;vertical-align:top}.ngx-datatable.dark .datatable-body .datatable-body-row:hover{background:#171b24;transition-property:background;transition-duration:.3s;transition-timing-function:linear}.ngx-datatable.dark .datatable-body .datatable-body-row:focus{background-color:#232837}.ngx-datatable.dark .datatable-body .datatable-body-row.active{background-color:#1483ff;color:#fff}.ngx-datatable.dark .datatable-footer{background:#232837;color:#72809b;margin-top:-1px}.ngx-datatable.dark .datatable-footer .page-count{line-height:50px;height:50px;padding:0 1.2rem}.ngx-datatable.dark .datatable-footer .datatable-pager{margin:0 10px;vertical-align:top}.ngx-datatable.dark .datatable-footer .datatable-pager ul li{margin:10px 0}.ngx-datatable.dark .datatable-footer .datatable-pager ul li:not(.disabled).active a,.ngx-datatable.dark .datatable-footer .datatable-pager ul li:not(.disabled):hover a{background-color:#455066;font-weight:700}.ngx-datatable.dark .datatable-footer .datatable-pager a{height:22px;min-width:24px;line-height:22px;padding:0;border-radius:3px;margin:0 3px;text-align:center;text-decoration:none;vertical-align:bottom;color:#72809b}.ngx-datatable.dark .datatable-footer .datatable-pager .datatable-icon-left,.ngx-datatable.dark .datatable-footer .datatable-pager .datatable-icon-prev,.ngx-datatable.dark .datatable-footer .datatable-pager .datatable-icon-right,.ngx-datatable.dark .datatable-footer .datatable-pager .datatable-icon-skip{font-size:18px;line-height:27px;padding:0 3px}.ngx-datatable.dark .datatable-summary-row .datatable-body-row,.ngx-datatable.dark .datatable-summary-row .datatable-body-row:hover{background-color:#14171f}.ngx-datatable.dark .datatable-summary-row .datatable-body-row .datatable-body-cell{font-weight:700}.ngx-datatable.ngxa{box-shadow:none;font-size:13px}.ngx-datatable.ngxa .datatable-header{height:unset!important}.ngx-datatable.ngxa .datatable-header .datatable-header-cell{vertical-align:bottom;padding:.75rem;border-bottom:1px solid #d1d4d7}.ngx-datatable.ngxa .datatable-header .datatable-header-cell .datatable-header-cell-label{line-height:24px}.ngx-datatable.ngxa .datatable-header .datatable-header-cell .datatable-checkbox input[type=checkbox]:checked:before{transform:rotate(-45deg);height:.5rem;border-color:#36f;border-top-style:none;border-right-style:none}.ngx-datatable.ngxa .datatable-header .datatable-row-left{background-color:#fff;background-position:100% 0;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQIHWPSkNeSBmJhTQVtbiDNCgASagIIuJX8OgAAAABJRU5ErkJggg==)}.ngx-datatable.ngxa .datatable-header .datatable-row-right{background-color:#fff;background-position:0 0;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQI12PQkNdi1VTQ5gbSwkAsDQARLAIGtOSFUAAAAABJRU5ErkJggg==)}.ngx-datatable.ngxa .datatable-body .datatable-body-row{vertical-align:top}.ngx-datatable.ngxa .datatable-body .datatable-body-row.datatable-row-even,.ngx-datatable.ngxa .datatable-body .datatable-body-row.datatable-row-even .datatable-row-left,.ngx-datatable.ngxa .datatable-body .datatable-body-row.datatable-row-even .datatable-row-right{background-color:#f2f2f2}.ngx-datatable.ngxa .datatable-body .datatable-body-row.datatable-row-odd .datatable-row-left,.ngx-datatable.ngxa .datatable-body .datatable-body-row.datatable-row-odd .datatable-row-right{background-color:#fff}.ngx-datatable.ngxa .datatable-body .datatable-body-row .datatable-row-left{background-position:100% 0;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQIHWPSkNeSBmJhTQVtbiDNCgASagIIuJX8OgAAAABJRU5ErkJggg==)}.ngx-datatable.ngxa .datatable-body .datatable-body-row .datatable-row-right{background-position:0 0;background-repeat:repeat-y;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQI12PQkNdi1VTQ5gbSwkAsDQARLAIGtOSFUAAAAABJRU5ErkJggg==)}.ngx-datatable.ngxa .datatable-body .datatable-body-row.active{background-color:#36f;color:#fff}.ngx-datatable.ngxa .datatable-body .datatable-body-row.active .datatable-row-left,.ngx-datatable.ngxa .datatable-body .datatable-body-row.active .datatable-row-right{background-color:#36f}.ngx-datatable.ngxa .datatable-body .datatable-body-row:hover,.ngx-datatable.ngxa .datatable-body .datatable-body-row:hover .datatable-row-group{cursor:pointer;border-bottom:.025rem solid #7899ff;transition-property:background;transition-duration:.3s;transition-timing-function:linear}.ngx-datatable.ngxa .datatable-body .datatable-body-row .datatable-body-cell{padding:.75rem;text-align:left;vertical-align:top}.ngx-datatable.ngxa .datatable-body .datatable-body-row .datatable-body-cell .datatable-checkbox input[type=checkbox]:checked:before{transform:rotate(-45deg);height:.5rem;border-color:#36f;border-top-style:none;border-right-style:none}.ngx-datatable.ngxa .datatable-body .empty-row{position:relative;padding:.75rem 1.25rem;margin-bottom:0}.ngx-datatable.ngxa .datatable-body .progress-linear{display:block;width:100%;height:5px;padding:0;margin:0;position:absolute}.ngx-datatable.ngxa .datatable-body .progress-linear .container{display:block;position:relative;overflow:hidden;width:100%;height:5px;transform:translate(0,0) scale(1,1);background-color:#aad1f9}.ngx-datatable.ngxa .datatable-body .progress-linear .container .bar{transition:transform .2s linear;-webkit-animation:.8s cubic-bezier(.39,.575,.565,1) infinite query;animation:.8s cubic-bezier(.39,.575,.565,1) infinite query;background-color:#106cc8;position:absolute;left:0;top:0;bottom:0;width:100%;height:5px}.ngx-datatable.ngxa .datatable-footer{background:#f2f2f2;color:#5a5a5a;margin-top:-1px}.ngx-datatable.ngxa .datatable-footer .page-count{padding:.7rem}.ngx-datatable.ngxa .datatable-footer .datatable-pager{margin:0 10px;vertical-align:top}.ngx-datatable.ngxa .datatable-footer .datatable-pager ul li{margin:10px 0}.ngx-datatable.ngxa .datatable-footer .datatable-pager ul li:not(.disabled).active a,.ngx-datatable.ngxa .datatable-footer .datatable-pager ul li:not(.disabled):hover a{background-color:#c1c1c1;font-weight:700}.ngx-datatable.ngxa .datatable-footer .datatable-pager a{height:22px;min-width:24px;line-height:22px;padding:0;border-radius:3px;margin:0 3px;text-align:center;text-decoration:none;vertical-align:bottom;color:#5a5a5a}.ngx-datatable.ngxa .datatable-footer .datatable-pager .datatable-icon-left,.ngx-datatable.ngxa .datatable-footer .datatable-pager .datatable-icon-prev,.ngx-datatable.ngxa .datatable-footer .datatable-pager .datatable-icon-right,.ngx-datatable.ngxa .datatable-footer .datatable-pager .datatable-icon-skip{line-height:27px;padding:0 .2rem}.ngx-datatable.ngxa .datatable-summary-row .datatable-body-row .datatable-body-cell{font-weight:700}"]}]}],e.ctorParameters=function(){return[{type:String,decorators:[{type:t.Inject,args:[t.LOCALE_ID]}]},{type:d.LayoutService},{type:t.Injector}]},e.propDecorators={rows:[{type:t.Input}],columns:[{type:t.Input}],filters:[{type:t.Input}],selected:[{type:t.Input}],limit:[{type:t.Input}],count:[{type:t.Input}],offset:[{type:t.Input}],externalPaging:[{type:t.Input}],externalSorting:[{type:t.Input}],loadingIndicator:[{type:t.Input}],scrollbarH:[{type:t.Input}],scrollbarV:[{type:t.Input}],reorderable:[{type:t.Input}],sortType:[{type:t.Input}],messages:[{type:t.Input}],selectionType:[{type:t.Input}],columnMode:[{type:t.Input}],headerHeight:[{type:t.Input}],footerHeight:[{type:t.Input}],rowHeight:[{type:t.Input}],column:[{type:t.Input}],footer:[{type:t.Input}],api:[{type:t.Input}],startWithOpenData:[{type:t.Input}],filterEvent:[{type:t.Input}],formGroupFilter:[{type:t.Input}],buttonCell:[{type:t.Output}],select:[{type:t.Output}],activate:[{type:t.Output}],datatable:[{type:t.ViewChild,args:["datatable",{static:!1}]}],filterFn:[{type:t.Input}]},e}();var z=[S,C,D,R,F,N,I,P],L=[i.FormsModule,i.ReactiveFormsModule,l.NbCardModule,l.NbAlertModule,l.NbIconModule,l.NbDialogModule.forChild(),l.NbWindowModule.forChild(),d.NgxaThemeModule,s.NgxaInputModule,s.NgxaCheckBoxModule,s.NgxaButtonModule,s.NgxaBaseModule,s.NgxaSelectModule,s.NgxaMapsModule,m.NgxDatatableModule,s.NgxaTableModule,s.NgxaLabelModule,E],M=[],O=[I,P],B=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:y(L),declarations:y(z),providers:y(M),entryComponents:y(O)}]}],e}(),G=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[],imports:[],exports:[]}]}],e}(),j=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"xa-cer-report",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),H=function(){function e(){}return e.prototype.getReports=function(){return this.reports},e.prototype.setReports=function(e){this.reports=e},e.decorators=[{type:t.Injectable}],e}();var U=function(e){function a(t,a,o){var n=e.call(this,t,{fullname:[],phoneNumber:[],latestFormattedAddress:[]})||this;return n.injector=t,n.router=a,n.reportService=o,n.selectionType=m.SelectionType.single,n.columns=[{name:"Name",prop:"name",width:225,frozenLeft:!0},{name:"Address",prop:"latestFormattedAddress",width:275,frozenLeft:!0},{name:"Gender",prop:"gender",width:125,frozenLeft:!0},{name:"Phone Number",prop:"phoneNumber",width:140,frozenLeft:!0},{name:"Emergency Category",prop:"emergencyCategory"},{name:"Status",prop:"status"},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],n.expanded=!1,n.apiPath=n.api.panic["datatable-panic-reports"],n.filters=[{controlName:"fullname",type:"input"},{controlName:"phoneNumber",type:"input"},{controlName:"latestFormattedAddress",type:"input"}],n}return f(a,e),a.prototype.ngOnInit=function(){},a.prototype.ngOnDestroy=function(){},a.prototype.onViewDetail=function(e){this.reportService.setReports(e),this.router.navigate(["/app/reports/emergency/detail"])},a.decorators=[{type:t.Component,args:[{selector:"xa-reports-emergency-list-page",template:'<xa-page-outlet [header]="\'Emergency Reports\'">\n  <div class="row">\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <xa-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [add]="false"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        (onEdit)="onViewDetail($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <xa-input-text\n            [name]="\'fullname\'"\n            [label]="\'Name\'"\n            formControlName="fullname">\n          </xa-input-text>\n          <xa-input-text\n            [name]="\'phoneNumber\'"\n            [label]="\'Phone Number\'"\n            formControlName="phoneNumber">\n          </xa-input-text>\n          <xa-input-text\n            [name]="\'latestFormattedAddress\'"\n            [label]="\'Address\'"\n            formControlName="latestFormattedAddress">\n          </xa-input-text>\n        </form>\n      </xa-datatable>\n    </div>\n  </div>\n</xa-page-outlet>\n',styles:[""]}]}],a.ctorParameters=function(){return[{type:t.Injector},{type:c.Router},{type:H}]},a}(s.BaseFilterComponent);var _=function(){function e(e,t,a){this.apiPath=e,this.httpBaseService=t,this.sanitizer=a}return e.prototype.ngOnInit=function(){this.getEvidence(this.checksum,this.user,this.fileType)},e.prototype.getEvidence=function(e,t,a){var o=this;this.httpBaseService.HTTP_AUTH(this.apiPath.file.evidence,null,null,null,[e,t],"arraybuffer").pipe(b.tap((function(e){var t=new Blob([e],{type:a}),n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){o.url=o.sanitizer.bypassSecurityTrustUrl(n.result.toString())}}))).subscribe()},e.decorators=[{type:t.Component,args:[{selector:"xa-reports-preview",template:'<nb-card *ngIf="url && fileType.includes(\'image\')">\n    <nb-card-body>\n        <img [src]="url" height="500">\n    </nb-card-body>\n</nb-card>\n<video *ngIf="url && fileType.includes(\'video\')" [src]="url" height="500" controls></video>\n<audio *ngIf="url && fileType.includes(\'audio\')" controls>\n    <source [src]="url" [type]="fileType">\n</audio>',styles:[""]}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[o.API]}]},{type:void 0,decorators:[{type:t.Inject,args:[o.HTTP_SERVICE]}]},{type:u.DomSanitizer}]},e.propDecorators={url:[{type:t.Input}],checksum:[{type:t.Input}],user:[{type:t.Input}],fileType:[{type:t.Input}]},e}();var V=function(){function e(e){this.ref=e,this.disabled=!1}return e.prototype.submit=function(e){this.disabled=!0,this.ref.close(e)},e.decorators=[{type:t.Component,args:[{selector:"xa-fake-prompt",template:'<nb-card>\n  <nb-card-header>\n    <h6 class="text-danger deactivated-label">\n        {{ \'Fake Report\' | translate }}\n    </h6>\n  </nb-card-header>\n  <nb-card-body>\n    <p>\n      {{ \'message.fake-form\' | translate }}\n    </p>\n    <p>\n      {{ \'message.input-password\' | translate }}\n    </p>\n    <input\n      [(ngModel)]="password"\n      type="password"\n      nbInput\n      class="fake-password"\n      placeholder="Password">\n  </nb-card-body>\n  <nb-card-footer>\n    <button\n      type="submit"\n      status="danger"\n      size="large"\n      class="fake-button"\n      [disabled]="!password || disabled"\n      (click)="submit(password)"\n      nbButton>\n      {{ \'Fake Report\' | translate }}\n    </button>\n  </nb-card-footer>\n</nb-card>\n',styles:["/*!\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */.nb-theme-default :host input.fake-password{max-width:unset;width:100%}.nb-theme-default :host .cancel{margin-right:1rem}.nb-theme-default :host button.fake-button{width:100%}.nb-theme-dark :host input.fake-password{max-width:unset;width:100%}.nb-theme-dark :host .cancel{margin-right:1rem}.nb-theme-dark :host button.fake-button{width:100%}.nb-theme-cosmic :host input.fake-password{max-width:unset;width:100%}.nb-theme-cosmic :host .cancel{margin-right:1rem}.nb-theme-cosmic :host button.fake-button{width:100%}.nb-theme-corporate :host input.fake-password{max-width:unset;width:100%}.nb-theme-corporate :host .cancel{margin-right:1rem}.nb-theme-corporate :host button.fake-button{width:100%}@media (max-width:767.98px){.nb-theme-default :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-default :host button.fake-button{font-size:.6rem}.nb-theme-dark :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-dark :host button.fake-button{font-size:.6rem}.nb-theme-cosmic :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-cosmic :host button.fake-button{font-size:.6rem}.nb-theme-corporate :host p{line-height:1.35rem;word-spacing:.15rem}.nb-theme-corporate :host button.fake-button{font-size:.6rem}}"]}]}],e.ctorParameters=function(){return[{type:l.NbDialogRef}]},e}();var $=function(e){function a(t,a,n,r,i){var l=e.call(this,t,null,{status:[],emergencyCategory:[]})||this;return l.injector=t,l.router=a,l.route=n,l.dialogService=r,l.reportService=i,l.profile={},l.imageDefault=document.getElementsByTagName("base")[0].href+"/assets/images/avatars/default.png",l.columns=[{name:"Evidence",prop:"fileMetadata",width:100,frozenLeft:!0,type:"button",button:"Preview",buttonStatus:"warning"},{name:"File Size",prop:"fileMetadata.size",width:125,frozenLeft:!0,type:"prefix",prefix:"bytes"},{name:"Latitude",prop:"location.latitude",width:125,frozenLeft:!0},{name:"Longitude",prop:"location.longitude",width:125,frozenLeft:!0},{name:"Address",prop:"location.formattedAddress",width:350},{name:"Province",prop:"location.province",width:150},{name:"City",prop:"location.city",width:150},{name:"District",prop:"location.district",width:150},{name:"Device ID",prop:"device.deviceID",width:150},{name:"Device Name",prop:"device.deviceName",width:150}],l.sort={desc:["createdDate"]},l.enc=t.get(h.EncryptionService),l.oauthResource=t.get(o.OAUTH_INFO),l.apiSelectParameter=l.api.master["select-parameter"],l.dataReport=l.reportService.getReports(),l.keyword={panicCode:l.dataReport.panicCode},l.username=l.dataReport.username,l.apiPath=l.api.panic["datatable-panic-detail"],l}return f(a,e),a.prototype.ngOnDestroy=function(){},a.prototype.ngOnInit=function(){this.onInit("security","get-profile-personal"),this.paramSelectStatus=[{key:"parameterGroupCode",value:"STATUS_EMERGENCY"}],this.paramSelectEmergency=[{key:"parameterGroupCode",value:"CATEGORY_EMERGENCY"}]},a.prototype.onInit=function(e,t){var a=this;this.loadingForm=!0;var o={username:this.username};this.exec(e,t,o).subscribe((function(e){a.loadingForm=!1,a.profile=e,e.image&&(a.image=e.image)}),(function(e){a.loadingForm=!0;var t=e.error;t?a.toastr.showI18n(t.respStatusMessage[t.respStatusCode],!0,null,"danger"):a.toastr.showI18n(t,!0,null,"danger")}))},a.prototype.valueSelect=function(e){return this.formGroup.get(e).value?this.formGroup.get(e).value.value?this.formGroup.get(e).value.value:this.formGroup.get(e).value:null},a.prototype.onPreview=function(e){this.dialogService.open(_,{context:{checksum:e.checksum,user:this.username,fileType:e.fileType}})},a.prototype.onFake=function(){var t=this;this.dialogService.open(V).onClose.subscribe((function(a){if(a){t.disabledFake=!0;var n={password:t.enc.encryptAES(t.oauthResource.aes_key,a),panicCode:t.dataReport.panicCode};e.prototype.onSubmit.call(t,n,"panic","fake-report").pipe(b.takeUntil(t.destroy$)).subscribe((function(e){e&&e.respStatusCode===o.ResponseCode.OK_SCR011.toString()&&t.router.navigate(["/app/dashboard"])}))}else t.disabledFake=!1}))},a.prototype.onProcess=function(){var t=this,a={panicCode:this.dataReport.panicCode,status:this.valueSelect("status"),emergencyCategory:this.valueSelect("emergencyCategory")};e.prototype.onSubmit.call(this,a,"panic","process-report").pipe(b.takeUntil(this.destroy$)).subscribe((function(e){e&&e.respStatusCode===o.ResponseCode.OK_UPDATED.toString()&&t.router.navigate(["/app/dashboard"])}))},a.decorators=[{type:t.Component,args:[{selector:"xa-reports-emergency-detail.component",template:'<xa-page-outlet [url]="\'/app/reports/emergency\'" [header]="\'Emergency Report Detail\'">\n    <div class="row">\n        <div class="col-md-4 col-lg-4 col-xxxl-6">\n            <div class="photo-profile"\n            [ngStyle]="{ \n                \'background-image\': \'url(\' + (image? image: imageDefault) + \')\'\n            }">\n            </div>\n        </div>\n        <div class="col-md-8 col-lg-8 col-xxxl-6">\n            <div class="split-row">\n                <xa-label-text\n                    [label]="\'Name\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.name"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'ID Number\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.idNumber"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Gender\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.gender"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Place / Date of Birth\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.placeOfBirth ? (profile.placeOfBirth + \', \' + profile.dateOfBirth) : \'\'"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n            </div>\n            <div class="split-row">\n                <xa-label-text\n                    [label]="\'Username\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.username"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Email\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.email"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Phone Number\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.phoneNumber"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Address\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.address"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Country\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.country"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n            </div>\n            <div class="split-row">\n                <xa-label-text\n                    [label]="\'Related Person\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.referenceName"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Relationship\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.relationship"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Address\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.referenceAddress"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n                <xa-label-text\n                    [label]="\'Phone Number\'"\n                    [colLabel]="4"\n                    [colContent]="8"\n                    [content]="profile.referencePhoneNumber"\n                    [skeleton]="loadingForm">\n                </xa-label-text>\n            </div>\n            <form [formGroup]="formGroup">\n                <xa-select\n                    [name]="\'status\'"\n                    [label]="\'Status\'"\n                    [colLabel]="4"\n                    [colInput]="8"\n                    [required]="true"\n                    [api]="apiSelectParameter"\n                    [queryParam]="paramSelectStatus"\n                    [searchable]="false"\n                    [skeleton]="loadingForm"\n                    formControlName="status">\n                </xa-select>\n                <xa-select\n                    [name]="\'emergency\'"\n                    [label]="\'Emergency\'"\n                    [colLabel]="4"\n                    [colInput]="8"\n                    [required]="true"\n                    [api]="apiSelectParameter"\n                    [queryParam]="paramSelectEmergency"\n                    [searchable]="false"\n                    [skeleton]="loadingForm"\n                    formControlName="emergencyCategory">\n                </xa-select>\n                <div class="form-group row">\n                    <div class="offset-sm-4 col-sm-8">\n                        <button\n                            type="reset"\n                            status="danger"\n                            (click)="onFake()"\n                            class="reset-left"\n                            nbButton>\n                            {{ \'Fake Report\' | translate}}\n                        </button>\n                        <button\n                            type="submit"\n                            status="primary"\n                            (click)="onProcess()"\n                            [disabled]="formGroup.invalid || formGroup.pristine || disabled"\n                            class="submit-right"\n                            nbButton>\n                            {{ \'Process\' | translate}}\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-md-12 col-lg-12 col-xxxl-6">\n            <xa-datatable\n                [api]="apiPath"\n                [filters]="filters"\n                (onButtonCell)="onPreview($event)"\n                [filterFn]="keyword"\n                [selectionType]="null"\n                [add]="false"\n                [edit]="false"\n                [delete]="false"\n                [sort]="sort"\n                [columns]="columns">\n            </xa-datatable>\n        </div>\n    </div>\n</xa-page-outlet>  ',styles:[".nb-theme-default :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-default :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-default :host .reset-left{margin-right:.25rem}.nb-theme-default :host .submit-right{margin-left:.25rem}.nb-theme-dark :host .split-row{border-bottom:1px solid #151a30;margin-bottom:1rem}.nb-theme-dark :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-dark :host .reset-left{margin-right:.25rem}.nb-theme-dark :host .submit-right{margin-left:.25rem}.nb-theme-cosmic :host .split-row{border-bottom:1px solid #1b1b38;margin-bottom:1rem}.nb-theme-cosmic :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-cosmic :host .reset-left{margin-right:.25rem}.nb-theme-cosmic :host .submit-right{margin-left:.25rem}.nb-theme-corporate :host .split-row{border-bottom:1px solid #edf1f7;margin-bottom:1rem}.nb-theme-corporate :host .photo-profile{height:225px;width:225px;background-size:cover;margin:20px auto}.nb-theme-corporate :host .reset-left{margin-right:.25rem}.nb-theme-corporate :host .submit-right{margin-left:.25rem}"]}]}],a.ctorParameters=function(){return[{type:t.Injector},{type:c.Router},{type:c.ActivatedRoute},{type:l.NbDialogService},{type:H}]},a}(s.BaseFilterComponent);var q=function(e){function a(t,a,o){var n=e.call(this,t,{fullname:[],phoneNumber:[],latestFormattedAddress:[]})||this;return n.injector=t,n.router=a,n.reportService=o,n.selectionType=m.SelectionType.single,n.columns=[{name:"Username",prop:"username",width:125,frozenLeft:!0},{name:"Name",prop:"name",width:225,frozenLeft:!0},{name:"Address",prop:"latestFormattedAddress",width:275,frozenLeft:!0},{name:"Gender",prop:"gender",width:125,frozenLeft:!0},{name:"Phone Number",prop:"phoneNumber",width:140,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],n.expanded=!1,n.apiPath=n.api.panic["datatable-fake-reports"],n.filters=[{controlName:"fullname",type:"input"},{controlName:"phoneNumber",type:"input"},{controlName:"latestFormattedAddress",type:"input"}],n}return f(a,e),a.prototype.ngOnInit=function(){},a.prototype.ngOnDestroy=function(){},a.prototype.onViewDetail=function(e){this.reportService.setReports(e),this.router.navigate(["/app/reports/fake/detail"])},a.decorators=[{type:t.Component,args:[{selector:"xa-reports-fake-list-page",template:'<xa-page-outlet [header]="\'Fake Reports\'">\n  <div class="row">\n    <div class="col-md-12 col-lg-12 col-xxxl-6">\n      <xa-datatable\n        [api]="apiPath"\n        [formGroupFilter]="formGroupFilter"\n        [filters]="filters"\n        [add]="false"\n        [delete]="false"\n        [selectionType]="selectionType"\n        (onFilter)="doFilterAdvanced($event)"\n        [filterFn]="keyword"\n        [columns]="columns">\n        <form [formGroup]="formGroupFilter">\n          <xa-input-text\n            [name]="\'fullname\'"\n            [label]="\'Name\'"\n            formControlName="fullname">\n          </xa-input-text>\n          <xa-input-text\n            [name]="\'phoneNumber\'"\n            [label]="\'Phone Number\'"\n            formControlName="phoneNumber">\n          </xa-input-text>\n          <xa-input-text\n            [name]="\'latestFormattedAddress\'"\n            [label]="\'Address\'"\n            formControlName="latestFormattedAddress">\n          </xa-input-text>\n        </form>\n      </xa-datatable>\n    </div>\n  </div>\n</xa-page-outlet>\n',styles:[""]}]}],a.ctorParameters=function(){return[{type:t.Injector},{type:c.Router},{type:H}]},a}(s.BaseFilterComponent);var Q=[{path:"",component:j,canActivateChild:[p.AuthGuardChildService],children:[{path:"emergency",component:U,data:{code:"#EMERGENCY-REPORTS-PAGE"}},{path:"emergency/detail",component:$,data:{code:"#EMERGENCY-REPORTS-PAGE"}},{path:"fake",component:q,data:{code:"#FAKE-REPORTS-PAGE"}}]}],J=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[c.RouterModule.forChild(Q)],exports:[c.RouterModule]}]}],e}(),Y=[j,U,$,V,_,q],K=[i.FormsModule,i.ReactiveFormsModule,l.NbCardModule,l.NbAlertModule,l.NbIconModule,l.NbDialogModule.forChild(),l.NbWindowModule.forChild(),d.NgxaThemeModule,s.NgxaInputModule,s.NgxaCheckBoxModule,s.NgxaButtonModule,s.NgxaBaseModule,s.NgxaSelectModule,m.NgxDatatableModule,s.NgxaTableModule,s.NgxaLabelModule,J],W=[H],X=[V,_],Z=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:y(K),declarations:y(Y),providers:y(W),entryComponents:y(X)}]}],e}(),ee=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"xa-cer-statistics",template:"\n    <router-outlet></router-outlet>\n  "}]}],e}(),te=function(){function e(e,t){this.theme=t,this.options={},this.destroy$=new r.Subject,this.http=e.get(o.HTTP_SERVICE),this.api=e.get(o.API)}return e.prototype.ngOnInit=function(){for(var e=(new Date).getFullYear(),t=[],a=3;a>=0;a--)t.push(e-a);this.dataSelect=t,this.selected=e,this.getStatistics()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.themeSubscription.unsubscribe()},e.prototype.getStatistics=function(){var e=this;this.http.HTTP_AUTH(this.api.panic["statistics-area"],null,null,null,[this.selected]).subscribe((function(t){e.axis=t.axis.data,e.legend=t.legend.data,e.series=[],t.series.forEach((function(a){var o=[];t.axis.data.forEach((function(e){o.push(a.data[e])})),e.series.push({name:a.name,type:"bar",barWidth:"60%",data:o})})),e.buildChart()}))},e.prototype.buildChart=function(){var e=this;this.themeSubscription=this.theme.getJsTheme().subscribe((function(t){t.variables;var a=t.variables.echarts;e.options={backgroundColor:a.bg,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:e.legend,textStyle:{color:a.textColor}},grid:{left:"2%",right:"3%",bottom:"5%",top:"15%",containLabel:!0},xAxis:[{type:"value",axisLine:{lineStyle:{color:a.axisLineColor}},splitLine:{lineStyle:{color:a.splitLineColor}},axisLabel:{textStyle:{color:a.textColor}}}],yAxis:[{type:"category",data:e.axis,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:a.axisLineColor}},axisLabel:{textStyle:{color:a.textColor}}}],series:e.series}}))},e.prototype.onSelectChange=function(e){this.selected=e,this.getStatistics()},e.prototype.random=function(){return Math.round(100*Math.random())},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-statistics-area",template:'<xa-page-outlet\n    [header]="\'Statistics of Emergency Report by Area\'"\n    [dataSelect]="dataSelect"\n    [selected]="selected"\n    (selectChange)="onSelectChange($event)">\n    <xa-chart [options]="options"></xa-chart>\n</xa-page-outlet>',styles:[".nb-theme-default :host ::ng-deep nb-card-body{overflow:unset}.nb-theme-dark :host ::ng-deep nb-card-body{overflow:unset}.nb-theme-cosmic :host ::ng-deep nb-card-body{overflow:unset}.nb-theme-corporate :host ::ng-deep nb-card-body{overflow:unset}"]}]}],e.ctorParameters=function(){return[{type:t.Injector},{type:l.NbThemeService}]},e}();var ae=function(){function e(e,t){this.theme=t,this.options={},this.destroy$=new r.Subject,this.http=e.get(o.HTTP_SERVICE),this.api=e.get(o.API)}return e.prototype.ngOnInit=function(){for(var e=(new Date).getFullYear(),t=[],a=3;a>=0;a--)t.push(e-a);this.dataSelect=t,this.selected=e,this.getStatistics()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.themeSubscription.unsubscribe()},e.prototype.getStatistics=function(){this.buildChart()},e.prototype.buildChart=function(){var e=this;this.themeSubscription=this.theme.getJsTheme().subscribe((function(t){t.variables;e.echarts=t.variables.echarts,e.http.HTTP_AUTH(e.api.panic["statistics-gender"],null,null,null,[e.selected]).subscribe((function(t){e.legend=t.legend.data,e.series=[],console.log(t.series),t.series.forEach((function(a){var o=[];t.axis.data.forEach((function(e){o.push({value:a.data[e],name:e})})),e.series.push({name:a.name,type:"pie",radius:"80%",center:["50%","50%"],data:o,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:e.echarts.itemHoverShadowColor}},label:{normal:{textStyle:{color:e.echarts.textColor}}},labelLine:{normal:{lineStyle:{color:e.echarts.axisLineColor}}}}),e.options={backgroundColor:e.echarts.bg,tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:e.legend,textStyle:{color:e.echarts.textColor}},calculable:!0,series:e.series}}))}))}))},e.prototype.onSelectChange=function(e){this.selected=e,this.getStatistics()},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-statistics-gender",template:'<xa-page-outlet\n    [header]="\'Statistics of Emergency Report by Gender\'"\n    [dataSelect]="dataSelect"\n    [selected]="selected"\n    (selectChange)="onSelectChange($event)">\n    <xa-chart [options]="options"></xa-chart>\n</xa-page-outlet>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:t.Injector},{type:l.NbThemeService}]},e}();var oe=function(){function e(e,t){this.theme=t,this.options={},this.destroy$=new r.Subject,this.http=e.get(o.HTTP_SERVICE),this.api=e.get(o.API)}return e.prototype.ngOnInit=function(){for(var e=(new Date).getFullYear(),t=[],a=3;a>=0;a--)t.push(e-a);this.dataSelect=t,this.selected=e,this.getStatistics()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.themeSubscription.unsubscribe()},e.prototype.getStatistics=function(){var e=this;this.http.HTTP_AUTH(this.api.panic["statistics-periode"],null,null,null,[this.selected]).subscribe((function(t){e.axis=t.axis.data,e.legend=t.legend.data,e.series=[],t.series.forEach((function(a){var o=[];t.axis.data.forEach((function(e){o.push(a.data[e])})),e.series.push({name:a.name,type:"line",smooth:!0,data:o})})),e.buildChart()}))},e.prototype.buildChart=function(){var e=this;this.themeSubscription=this.theme.getJsTheme().subscribe((function(t){t.variables;var a=t.variables.echarts;e.options={backgroundColor:a.bg,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:e.legend,textStyle:{color:a.textColor}},grid:{left:"2%",right:"3%",bottom:"5%",containLabel:!0},xAxis:[{type:"category",data:e.axis,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:a.axisLineColor}},axisLabel:{textStyle:{color:a.textColor}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:a.axisLineColor}},splitLine:{lineStyle:{color:a.splitLineColor}},axisLabel:{textStyle:{color:a.textColor}}}],series:e.series}}))},e.prototype.onSelectChange=function(e){this.selected=e,this.getStatistics()},e.prototype.random=function(){return Math.round(100*Math.random())},e.decorators=[{type:t.Component,args:[{selector:"xa-cer-statistics-periode",template:'<xa-page-outlet\n    [header]="\'Statistics of Emergency Report by Periode\'"\n    [dataSelect]="dataSelect"\n    [selected]="selected"\n    (selectChange)="onSelectChange($event)">\n    <xa-chart [options]="options"></xa-chart>\n</xa-page-outlet>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:t.Injector},{type:l.NbThemeService}]},e}();var ne=[{path:"",component:ee,canActivateChild:[p.AuthGuardChildService],children:[{path:"area",component:te,data:{code:"#STATISTICS-AREA-PAGE"}},{path:"gender",component:ae,data:{code:"#STATISTICS-GENDER-PAGE"}},{path:"periode",component:oe,data:{code:"#STATISTICS-PERIODE-PAGE"}}]}],re=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[c.RouterModule.forChild(ne)],exports:[c.RouterModule]}]}],e}(),ie=[ee,te,ae,oe],le=[i.FormsModule,i.ReactiveFormsModule,l.NbCardModule,d.NgxaThemeModule,s.NgxaBaseModule,s.NgxaChartsModule,re],de=[],se=[],ce=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:y(le),declarations:y(ie),providers:y(de),entryComponents:y(se)}]}],e}();e.NgxaCerDashboardModule=B,e.NgxaCerFakeModule=G,e.NgxaCerModule=A,e.NgxaCerReportsModule=Z,e.NgxaCerStatisticsModule=ce,e.PanicIndexedDBService=v,e.PanicService=w,e.ɵa=E,e.ɵb=S,e.ɵc=C,e.ɵd=N,e.ɵe=D,e.ɵf=R,e.ɵg=F,e.ɵh=I,e.ɵi=P,e.ɵj=J,e.ɵk=j,e.ɵl=U,e.ɵm=H,e.ɵn=$,e.ɵo=q,e.ɵp=V,e.ɵq=_,e.ɵr=re,e.ɵs=ee,e.ɵt=te,e.ɵu=ae,e.ɵv=oe,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=xaphira-ngxa-cer.umd.min.js.map